/*==============================================================================
Program: 06_freq_data_step.sas

Frequent DATA step patterns: KEEP, DROP, OUTPUT, _N_, OBS/FIRSTOBS
==============================================================================*/

/*-----------------------------------------------------------------------------
1) KEEP variables
-----------------------------------------------------------------------------*/
data testing_keep;
  set sashelp.cars(keep=Model Type MSRP);
run;

/*-----------------------------------------------------------------------------
2) DROP variables
-----------------------------------------------------------------------------*/
data testing_drop;
  set sashelp.cars(drop=Model Type MSRP);
run;

/*-----------------------------------------------------------------------------
3) OUTPUT statement
-----------------------------------------------------------------------------*/
data price(keep=Model Type MSRP)
     features(drop=Model Type MSRP);

  set sashelp.cars;

  if missing(MSRP) then output features;
  else if MSRP < 19000 then output price;
  else output features;

run;

/*-----------------------------------------------------------------------------
4) Line numbers: select observations 10 to 20
-----------------------------------------------------------------------------*/
data linenumbers;
  set price;
  if 10 <= _n_ <= 20;
run;

/*-----------------------------------------------------------------------------
5) Observations: take first 15 rows
-----------------------------------------------------------------------------*/
data obsv;
  set price(obs=15);
run;

/*-----------------------------------------------------------------------------
6) Firstobs + obs: take rows 7 to 15
-----------------------------------------------------------------------------*/
data first_obsv;
  set price(firstobs=7 obs=15);
run;

/*------------------------------------------------------------------------------
End of program
------------------------------------------------------------------------------*/
